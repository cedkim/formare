$input-font-size: $font-size;
$input-color: $dark;
$input-border-style: solid;
$input-border-width: 1px;
$input-border-color: $light;
$input-border-radius: border-radius(base);

$input-hovered-color: primary-color(40);

$input-focused-color: primary-color(40);
$input-focused-border-style: solid;
$input-focused-border-width: 1px;
$input-focused-border-color: primary-color();
$input-focused-box-shadow: 0 0 0em 0.2em rgba(tint($primary-color, 15%), 0.3);

$input-spacing-y: spacing(base) !default;
$input-spacing-x: spacing(base) !default;
$input-spacing: $input-spacing-y $input-spacing-x;

$input-background: $white;
$input-transition: $transition;

$input-disabled-background: $lighter;

$input-set-border-color: $light !default;
$input-set-border-radius: border-radius(base);

$input-set-extra-transition: $transition;
$input-set-extra-spacing: spacing(base);
$input-set-extra-icon-color: $light;

$input-set-addon-transition: $input-transition !default;
$input-set-addon-background-color: $light !default;
$input-set-addon-spacing: spacing(base) !default;
$input-set-addon-color: color-yiq($input-set-addon-background-color);


.input,
.select > select {
	transition: $input-transition;
	font-size: $input-font-size;
	background-color: $input-background;
	color: $input-color;
	border-style: $input-border-style;
	border-width: $input-border-width;
	border-color: $input-border-color;
	border-radius: $input-border-radius;
	padding: $input-spacing;
	outline: none;
	white-space: normal;
	width: 100%;


	&:focus {
		border-color: $input-focused-border-color;
		box-shadow: $input-focused-box-shadow;
		// box-shadow: 0 0 0em 0.2em rgba(tint($primary-color, 15%), 0.3);
	}

	&:disabled {
		background-color: $input-disabled-background;
		cursor: not-allowed;
	}

	@each $theme, $color in $theme-colors {
		&--#{$theme} {
			border-color: tint($color, 20%);

			&:hover {
				border-color: tint($color, 10%);
			}

			&:focus {
				border: solid 1px $color;
				// box-shadow: 0 0 0em 0.2em rgba(tint($color, 15%), 0.3);
			}
		}
	}

	@each $size, $value in $font-sizes {
		&--#{$size} {
			font-size: $value;
			padding: spacing($size);
		}
	}

	&--pill {
		border-radius: $border-radius-pill;
	}
}

.select {
	position: relative;
	
	> select {
		-webkit-appearance: none;
		-moz-appearance: none;
	}

	&:after {
		transition: $input-transition;
		content: "\f078";
		font-family: "Font Awesome 5 Free";
		font-weight: 900;
		position: absolute;
		right: spacing(base);
		top: 50%;
		transform: translateY(-50%);
		line-height: 0;
		color: gray(600);
	}

	&:focus-within {
		&:after {
			top: 50%;
			transform: rotate(180deg) translateY(-50%);
			color: primary-color();
		}
	}
}

.input-set {
	display: flex;
	flex-direction: row;
	transition: $input-transition;
	border-style: $input-border-style;
	border-width: $input-border-width;
	border-color: $input-border-color;
	border-radius: $input-set-border-radius;
	background-color: $input-background;
	overflow: hidden;
	width: 100%;
	
	@each $theme, $color in $theme-colors {
		&--#{$theme} {
			border-color: tint($color, 20%);

			&:hover {
				border-color: tint($color, 10%);
			}

			&:focus {
				border-color: $color;
			}
		}
	}
	
	&__addon {
		display: flex;
		align-items: center;
		transition: $input-set-addon-transition;
		padding-left: $input-set-addon-spacing;
		padding-right: $input-set-addon-spacing;
		color: $input-set-addon-color;
		background-color: $input-set-addon-background-color;
	}

	&__extra {
		display: flex;
		align-items: center;
		transition: $input-set-extra-transition;
		padding-top: $input-set-extra-spacing;
		padding-bottom: $input-set-extra-spacing;

		> .icon {
			transition: $input-set-extra-transition;
			color: $input-set-extra-icon-color;
		}

		&:first-child { padding-left: $input-set-extra-spacing; }
		&:last-child { padding-right: $input-set-extra-spacing; }
	}

	&:focus-within {
		border-color: $input-focused-border-color;
		box-shadow: 0 0 0em 0.2em rgba(tint($primary-color, 15%), 0.3);

		.input-set {
			&__extra {
				> .icon {
					color: primary-color();
				}
			}

			&__addon {
				background-color: primary-color();
				color: color-yiq(primary-color());
			}
		}
	}

	&--pill {
		border-radius: $border-radius-pill;
	}

	&--disabled {
		position: relative;
		background-color: $input-disabled-background;
	}

	> .input,
	> .select {
		border: 0;
		box-shadow: none;
	}
}